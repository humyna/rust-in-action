//https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html

fn main() {
    // 1.æ•´å‹
    // ç±»å‹æ³¨è§£u32ï¼Œå»æ‰ä¼šæŠ¥é”™
    let _guess : u32 =  "39".parse().expect("Not a number!");
    
    // ä¸åŒè¿›åˆ¶
    // å¤šç§æ•°å­—ç±»å‹çš„æ•°å­—å­—é¢å€¼å…è®¸ä½¿ç”¨ç±»å‹åç¼€ï¼Œä¾‹å¦‚ 57u8 æ¥æŒ‡å®šç±»å‹ï¼ŒåŒæ—¶ä¹Ÿå…è®¸ä½¿ç”¨ _ åšä¸ºåˆ†éš”ç¬¦ä»¥æ–¹ä¾¿è¯»æ•°ï¼Œä¾‹å¦‚1_000ï¼Œå®ƒçš„å€¼ä¸ä½ æŒ‡å®šçš„ 1000 ç›¸åŒ
    let _data_d: u32 = 101_000;
    let _data_h: u32 = 0x10e;
    let _data_o: u32 = 0o107;
    let _data_b: u32 = 0b111_000;
    let _data_byte: u8 = b'B';
    println!("_data_d={},_data_h={},_data_o={},_data_b={},_data_byte={}",_data_d, _data_h, _data_o,_data_b,_data_byte);

    // æ•´å‹æº¢å‡º
    // åœ¨ debug æ¨¡å¼ç¼–è¯‘æ—¶ï¼ŒRust æ£€æŸ¥è¿™ç±»é—®é¢˜å¹¶ä½¿ç¨‹åº panic
    // åœ¨ release æ„å»ºä¸­ï¼ŒRust ä¸æ£€æµ‹æº¢å‡ºï¼Œç›¸åä¼šè¿›è¡Œä¸€ç§è¢«ç§°ä¸ºäºŒè¿›åˆ¶è¡¥ç åŒ…è£…ï¼ˆtwoâ€™s complement wrappingï¼‰çš„æ“ä½œã€‚ç®€è€Œè¨€ä¹‹ï¼Œå€¼ 256 å˜æˆ 0ï¼Œå€¼ 257 å˜æˆ 1ã€‚
    // æ ‡å‡†åº“ä¸­æœ‰ä¸€ä¸ªç±»å‹æ˜¾å¼æä¾›æ­¤åŠŸèƒ½ï¼ŒWrapping TODO 
    //let _idata: i8 = 128;
    //let _udata: u8 = 256;

    // 2.æµ®ç‚¹
    // Rust çš„æµ®ç‚¹æ•°ç±»å‹æ˜¯ f32 å’Œ f64ï¼Œåˆ†åˆ«å  32 ä½å’Œ 64 ä½ã€‚
    // é»˜è®¤ç±»å‹æ˜¯ f64ï¼Œå› ä¸ºåœ¨ç°ä»£ CPU ä¸­ï¼Œå®ƒä¸ f32 é€Ÿåº¦å‡ ä¹ä¸€æ ·ï¼Œä¸è¿‡ç²¾åº¦æ›´é«˜
    // æ‰€æœ‰çš„æµ®ç‚¹å‹éƒ½æ˜¯æœ‰ç¬¦å·çš„ã€‚
    // æµ®ç‚¹æ•°é‡‡ç”¨ IEEE-754 æ ‡å‡†è¡¨ç¤º
    let _data_f = 2.0;
    let _data_f32:f32 = 3.0;
    println!("_data_f={}, _data_f32={}", _data_f, _data_f32);

    // 3.æ•°å€¼è¿ç®—
    let sum = 5 + 6;
    let diff = 10.24 - 2.4;
    let pro = 3 * 12;
    let quotient = 7.2 / 3.1;
    let floored = 3 / 4; //ç»“æœä¸º0
    let remainder = 11 % 3;
    println!("sum={}, diff={}, pro={}, quotient={}, floored={}, remainder={}", sum, diff, pro, quotient, floored, remainder);

    // 4.å¸ƒå°”å‹
    let t = true;
    let f : bool = false;
    println!("t={}, f={}", t, f);

    // 5.å­—ç¬¦ç±»å‹
    // Rustçš„ char ç±»å‹æ˜¯è¯­è¨€ä¸­æœ€åŸç”Ÿçš„å­—æ¯ç±»å‹ã€‚
    // æˆ‘ä»¬ç”¨å•å¼•å·å£°æ˜ char å­—é¢é‡ï¼Œä½¿ç”¨åŒå¼•å·å£°æ˜å­—ç¬¦ä¸²å­—é¢é‡.
    // Rust çš„ char ç±»å‹çš„å¤§å°ä¸ºå››ä¸ªå­—èŠ‚(four bytes)ï¼Œå¹¶ä»£è¡¨äº†ä¸€ä¸ª Unicode æ ‡é‡å€¼ï¼ˆUnicode Scalar Valueï¼‰ã€‚
    // åœ¨ Rust ä¸­ï¼Œæ‹¼éŸ³å­—æ¯ï¼ˆAccented lettersï¼‰ï¼Œä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ç­‰å­—ç¬¦ï¼Œemojiï¼ˆç»˜æ–‡å­—ï¼‰ä»¥åŠé›¶é•¿åº¦çš„ç©ºç™½å­—ç¬¦éƒ½æ˜¯æœ‰æ•ˆçš„ char å€¼ã€‚
    let c = 'f';
    let d = 'ğŸ˜';
    println!("c={}, d={}", c, d);

    // 6.å¤åˆç±»å‹-å…ƒç»„tuple
    // 6.1 å…ƒç»„æ˜¯ä¸€ä¸ªå°†å¤šä¸ªå…¶ä»–ç±»å‹çš„å€¼ç»„åˆè¿›ä¸€ä¸ªå¤åˆç±»å‹çš„ä¸»è¦æ–¹å¼ã€‚
    // å…ƒç»„é•¿åº¦å›ºå®šï¼šä¸€æ—¦å£°æ˜ï¼Œå…¶é•¿åº¦ä¸ä¼šå¢å¤§æˆ–ç¼©å°ã€‚
    // 6.2 æˆ‘ä»¬ä½¿ç”¨åŒ…å«åœ¨åœ†æ‹¬å·ä¸­çš„é€—å·åˆ†éš”çš„å€¼åˆ—è¡¨æ¥åˆ›å»ºä¸€ä¸ªå…ƒç»„ã€‚å…ƒç»„ä¸­çš„æ¯ä¸€ä¸ªä½ç½®éƒ½æœ‰ä¸€ä¸ªç±»å‹ï¼Œè€Œä¸”è¿™äº›ä¸åŒå€¼çš„ç±»å‹ä¹Ÿä¸å¿…æ˜¯ç›¸åŒçš„ã€‚
    // ä¸ºäº†ä»å…ƒç»„ä¸­è·å–å•ä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼ˆpattern matchingï¼‰æ¥è§£æ„ï¼ˆdestructureï¼‰å…ƒç»„å€¼
    // 6.3 æ²¡æœ‰ä»»ä½•å€¼çš„å…ƒç»„ () æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»å‹ï¼Œåªæœ‰ä¸€ä¸ªå€¼ï¼Œä¹Ÿå†™æˆ () ã€‚è¯¥ç±»å‹è¢«ç§°ä¸º å•å…ƒç±»å‹ï¼ˆunit typeï¼‰ï¼Œè€Œè¯¥å€¼è¢«ç§°ä¸º å•å…ƒå€¼ï¼ˆunit valueï¼‰ã€‚å¦‚æœè¡¨è¾¾å¼ä¸è¿”å›ä»»ä½•å…¶ä»–å€¼ï¼Œåˆ™ä¼šéšå¼è¿”å›å•å…ƒå€¼ã€‚
    let tup : (i32, f32, bool) = (341, 32.1, true);
    let (x, y, z) = tup; //è§£æ„ï¼ˆdestructuringï¼‰
    println!("x={}, y={}, z={}, x={}", x, y, z, tup.0);//ä½¿ç”¨ç‚¹å·ï¼ˆ.ï¼‰åè·Ÿå€¼çš„ç´¢å¼•æ¥ç›´æ¥è®¿é—®


    // 7.å¤åˆç±»å‹-æ•°ç»„array
    // ä¸å…ƒç»„ä¸åŒï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ç±»å‹å¿…é¡»ç›¸åŒã€‚
    // Rustä¸­çš„æ•°ç»„é•¿åº¦æ˜¯å›ºå®šçš„
    // å½“ä½ æƒ³è¦åœ¨æ ˆï¼ˆstackï¼‰è€Œä¸æ˜¯åœ¨å †ï¼ˆheapï¼‰ä¸Šä¸ºæ•°æ®åˆ†é…ç©ºé—´ æˆ–è€…æ˜¯æƒ³è¦ç¡®ä¿æ€»æ˜¯æœ‰å›ºå®šæ•°é‡çš„å…ƒç´ æ—¶ ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„ã€‚
    // æ•°ç»„å¹¶ä¸å¦‚ vector ç±»å‹çµæ´»ã€‚vector ç±»å‹æ˜¯æ ‡å‡†åº“æä¾›çš„ä¸€ä¸ª å…è®¸ å¢é•¿å’Œç¼©å°é•¿åº¦çš„ç±»ä¼¼æ•°ç»„çš„é›†åˆç±»å‹ã€‚å½“ä¸ç¡®å®šæ˜¯åº”è¯¥ä½¿ç”¨æ•°ç»„è¿˜æ˜¯ vector çš„æ—¶å€™ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½åº”è¯¥ä½¿ç”¨ vectorã€‚
    let months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    println!("months={:?}", months);

    // 
    let _array: [i32; 5] = [1, 2, 3, 4, 5];//åˆå§‹åŒ–æ•°ç»„ã€‚æ•°ç»„ç±»å‹å†™æ³•ï¼šåœ¨æ–¹æ‹¬å·ä¸­åŒ…å«æ¯ä¸ªå…ƒç´ çš„ç±»å‹ï¼Œåè·Ÿåˆ†å·ï¼Œå†åè·Ÿæ•°ç»„å…ƒç´ çš„æ•°é‡ã€‚
    println!("_array={:?}", _array);
    let _array = [3; 5];//åˆå§‹åŒ–æ•°ç»„ã€‚åœ¨æ–¹æ‹¬å·ä¸­æŒ‡å®šåˆå§‹å€¼åŠ åˆ†å·å†åŠ å…ƒç´ ä¸ªæ•°çš„æ–¹å¼æ¥åˆ›å»ºä¸€ä¸ªæ¯ä¸ªå…ƒç´ éƒ½ä¸ºç›¸åŒå€¼çš„æ•°ç»„
    println!("_array={:?}", _array);
    println!("_array0={}", _array[0]);//è®¿é—®æ•°ç»„å…ƒç´ 
    //println!("_array_e={}", _array[7]);//æ•°ç»„è¶Šç•Œï¼Œç¼–è¯‘æŠ¥é”™
}
